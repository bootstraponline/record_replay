{"version":3,"file":"pollyjs-persister-fs.min.js","sources":["../../src/index.js"],"sourcesContent":["import Persister from '@pollyjs/persister';\nimport { API, Defaults } from '@pollyjs/node-server';\n\nconst { parse } = JSON;\n\nexport default class FSPersister extends Persister {\n  constructor() {\n    super(...arguments);\n    this.api = new API(this.options);\n  }\n\n  static get name() {\n    return 'fs';\n  }\n\n  get defaultOptions() {\n    return {\n      recordingsDir: Defaults.recordingsDir\n    };\n  }\n\n  findRecording(recordingId) {\n    return this.api.getRecording(recordingId).body || null;\n  }\n\n  saveRecording(recordingId, data) {\n    /*\n      Pass the data through the base persister's stringify method so\n      the output will be consistent with the rest of the persisters.\n    */\n    this.api.saveRecording(recordingId, parse(this.stringify(data)));\n  }\n\n  deleteRecording(recordingId) {\n    this.api.deleteRecording(recordingId);\n  }\n}\n"],"names":["parse","JSON","FSPersister","Persister","constructor","arguments","api","API","this","options","recordingsDir","Defaults","findRecording","recordingId","getRecording","body","saveRecording","data","stringify","deleteRecording"],"mappings":"yMAGA,MAAMA,MAAEA,OAAUC,KAEH,MAAMC,oBAAoBC,UACvCC,uBACWC,gBACJC,IAAM,IAAIC,eAAIC,KAAKC,iCAIjB,gCAIA,CACLC,cAAeC,oBAASD,eAI5BE,cAAcC,UACLL,KAAKF,IAAIQ,aAAaD,GAAaE,MAAQ,KAGpDC,cAAcH,EAAaI,QAKpBX,IAAIU,cAAcH,EAAab,MAAMQ,KAAKU,UAAUD,KAG3DE,gBAAgBN,QACTP,IAAIa,gBAAgBN"}