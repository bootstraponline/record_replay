{"version":3,"file":"pollyjs-persister-fs.js","sources":["../../src/index.js"],"sourcesContent":["import Persister from '@pollyjs/persister';\nimport { API, Defaults } from '@pollyjs/node-server';\n\nconst { parse } = JSON;\n\nexport default class FSPersister extends Persister {\n  constructor() {\n    super(...arguments);\n    this.api = new API(this.options);\n  }\n\n  static get name() {\n    return 'fs';\n  }\n\n  get defaultOptions() {\n    return {\n      recordingsDir: Defaults.recordingsDir\n    };\n  }\n\n  findRecording(recordingId) {\n    return this.api.getRecording(recordingId).body || null;\n  }\n\n  saveRecording(recordingId, data) {\n    /*\n      Pass the data through the base persister's stringify method so\n      the output will be consistent with the rest of the persisters.\n    */\n    this.api.saveRecording(recordingId, parse(this.stringify(data)));\n  }\n\n  deleteRecording(recordingId) {\n    this.api.deleteRecording(recordingId);\n  }\n}\n"],"names":["parse","JSON","FSPersister","Persister","constructor","arguments","api","API","options","name","defaultOptions","recordingsDir","Defaults","findRecording","recordingId","getRecording","body","saveRecording","data","stringify","deleteRecording"],"mappings":";;;;;;;;;;AAGA,MAAM;EAAEA;IAAUC,IAAlB;AAEA,AAAe,MAAMC,WAAN,SAA0BC,SAA1B,CAAoC;EACjDC,WAAW,GAAG;UACN,GAAGC,SAAT;SACKC,GAAL,GAAW,IAAIC,GAAJ,CAAQ,KAAKC,OAAb,CAAX;;;aAGSC,IAAX,GAAkB;WACT,IAAP;;;MAGEC,cAAJ,GAAqB;WACZ;MACLC,aAAa,EAAEC,QAAQ,CAACD;KAD1B;;;EAKFE,aAAa,CAACC,WAAD,EAAc;WAClB,KAAKR,GAAL,CAASS,YAAT,CAAsBD,WAAtB,EAAmCE,IAAnC,IAA2C,IAAlD;;;EAGFC,aAAa,CAACH,WAAD,EAAcI,IAAd,EAAoB;;;;;SAK1BZ,GAAL,CAASW,aAAT,CAAuBH,WAAvB,EAAoCd,KAAK,CAAC,KAAKmB,SAAL,CAAeD,IAAf,CAAD,CAAzC;;;EAGFE,eAAe,CAACN,WAAD,EAAc;SACtBR,GAAL,CAASc,eAAT,CAAyBN,WAAzB;;;;;;;"}